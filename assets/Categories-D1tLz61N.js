import{a as d,V as f,b as c}from"./VTextField-DomxTECy.js";import{_ as p,c as u,w as a,a as o,b as s,d as r,V as l,e as g,F as y,o as n}from"./index-BtXavHFE.js";import{V as C}from"./VDataTableServer-BELOhHCx.js";import{V as k}from"./VContainer-DHcxStCg.js";import"./filter-Bbr3e2fA.js";const V={name:"Categories",data:()=>({loading:!1,itemsPerPage:15,categories:[],totalItems:0}),async created(){await this.getCategories()},methods:{async getCategories(){this.loading=!0;try{const{data:e}=await d.categories.getAll({skip:0,take:this.itemsPerPage});this.categories=e.categories,this.totalItems=e.count}finally{this.loading=!1}},async deleteCategory(e){this.loading=!0;try{await d.categories.delete(e.id),await this.getCategories()}finally{this.loading=!1}}}},P={class:"d-flex justify-space-between align-center mb-4"},h={class:"d-flex"},w={key:0};function _(e,t,v,b,B,m){return n(),u(k,{fluid:""},{default:a(()=>[o("div",P,[t[2]||(t[2]=o("h1",null,"Categories",-1)),s(l,{color:"primary",variant:"flat",to:{name:"category-create"}},{default:a(()=>t[1]||(t[1]=[r(" Add New ")])),_:1})]),s(c,{variant:"flat",class:"rounded-lg"},{default:a(()=>[s(f,null,{default:a(()=>[s(C,{"items-per-page":e.itemsPerPage,"onUpdate:itemsPerPage":t[0]||(t[0]=i=>e.itemsPerPage=i),headers:[{title:"Id",key:"id"},{title:"Category",key:"name"},{title:"Actions",key:"actions"}],items:e.categories,"items-length":e.totalItems,loading:e.loading},{"item.actions":a(({item:i})=>[o("div",h,[i.isDeleted?(n(),g("span",w,"deleted")):(n(),g(y,{key:1},[s(l,{to:{name:"category",params:{categoryId:i.id}}},{default:a(()=>t[3]||(t[3]=[r(" Show ")])),_:2},1032,["to"]),s(l,{onClick:I=>m.deleteCategory(i)},{default:a(()=>t[4]||(t[4]=[r("delete")])),_:2},1032,["onClick"])],64))])]),_:1},8,["items-per-page","items","items-length","loading"])]),_:1})]),_:1})]),_:1})}const j=p(V,[["render",_],["__file","/Users/reuvenyanturin/Projects/WiseWallet/admin/src/pages/categories/Categories.vue"]]);export{j as default};
